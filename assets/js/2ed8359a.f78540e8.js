"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2121],{35318:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>m});var o=t(27378);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=o.createContext({}),p=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=p(e.components);return o.createElement(c.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(t),m=a,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||r;return t?o.createElement(h,i(i({ref:n},s),{},{components:t})):o.createElement(h,i({ref:n},s))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,i=new Array(r);i[0]=u;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=t[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},38237:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var o=t(25773),a=(t(27378),t(35318));const r={title:"Toolchain"},i=void 0,l={unversionedId:"concepts/toolchain",id:"concepts/toolchain",title:"Toolchain",description:"The toolchain is an internal layer for downloading, installing, and managing tools (languages,",source:"@site/docs/concepts/toolchain.mdx",sourceDirName:"concepts",slug:"/concepts/toolchain",permalink:"/docs/concepts/toolchain",draft:!1,editUrl:"https://github.com/moonrepo/moon/tree/master/website/docs/concepts/toolchain.mdx",tags:[],version:"current",frontMatter:{title:"Toolchain"},sidebar:"docs",previous:{title:"Tokens",permalink:"/docs/concepts/token"},next:{title:"Workspace",permalink:"/docs/concepts/workspace"}},c={},p=[{value:"How it works",id:"how-it-works",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Supported tools",id:"supported-tools",level:2},{value:"Deno",id:"deno",level:3},{value:"Node.js",id:"nodejs",level:3}],s={toc:p};function d(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,o.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,'The toolchain is an internal layer for downloading, installing, and managing tools (languages,\ndependency managers, libraries, and binaries) that are required at runtime. We embrace this approach\nover relying on these tools "existing" in the current environment, as it ensures the following\nacross any environment or machine:'),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The version and enabled features of a tool are identical."),(0,a.kt)("li",{parentName:"ul"},"Tools are isolated and unaffected by external sources."),(0,a.kt)("li",{parentName:"ul"},"Builds are consistent, reproducible, and ",(0,a.kt)("em",{parentName:"li"},"hopefully")," deterministic.")),(0,a.kt)("p",null,"Furthermore, this avoids a developer, pipeline, machine, etc, having to pre-install all the\nnecessary tools, ",(0,a.kt)("em",{parentName:"p"},"and")," to keep them in sync as time passes."),(0,a.kt)("h2",{id:"how-it-works"},"How it works"),(0,a.kt)("p",null,"The toolchain is built around ",(0,a.kt)("a",{parentName:"p",href:"/proto"},"proto"),", our stand-alone toolchain manager. moon will\npiggyback of proto's toolchain found at ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.proto")," and reuse any tools available, or download and\ninstall them if they're missing."),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,"The tools that are managed by the toolchain are configured through the\n",(0,a.kt)("a",{parentName:"p",href:"../config/toolchain"},(0,a.kt)("inlineCode",{parentName:"a"},".moon/toolchain.yml"))," file, but can be overridden in each project with\n",(0,a.kt)("a",{parentName:"p",href:"../config/project#toolchain"},(0,a.kt)("inlineCode",{parentName:"a"},"moon.yml")),"."),(0,a.kt)("h2",{id:"supported-tools"},"Supported tools"),(0,a.kt)("p",null,"The following tools are currently managed by the toolchain."),(0,a.kt)("h3",{id:"deno"},"Deno"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Configured with: ",(0,a.kt)("a",{parentName:"li",href:"../config/toolchain#deno"},(0,a.kt)("inlineCode",{parentName:"a"},"deno"))),(0,a.kt)("li",{parentName:"ul"},"Installed to: ",(0,a.kt)("inlineCode",{parentName:"li"},"~/.proto/tools/deno/x.x.x"))),(0,a.kt)("h3",{id:"nodejs"},"Node.js"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Configured with: ",(0,a.kt)("a",{parentName:"li",href:"../config/toolchain#node"},(0,a.kt)("inlineCode",{parentName:"a"},"node"))),(0,a.kt)("li",{parentName:"ul"},"Installed to: ",(0,a.kt)("inlineCode",{parentName:"li"},"~/.proto/tools/node/x.x.x")),(0,a.kt)("li",{parentName:"ul"},"Dependency managers: ",(0,a.kt)("a",{parentName:"li",href:"../config/toolchain#npm-pnpm-yarn"},(0,a.kt)("inlineCode",{parentName:"a"},"npm")),",\n",(0,a.kt)("a",{parentName:"li",href:"../config/toolchain#npm-pnpm-yarn"},(0,a.kt)("inlineCode",{parentName:"a"},"pnpm")),", ",(0,a.kt)("a",{parentName:"li",href:"../config/toolchain#npm-pnpm-yarn"},(0,a.kt)("inlineCode",{parentName:"a"},"yarn")))))}d.isMDXComponent=!0}}]);