"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[40128],{9609:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>x,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var o=t(24246),s=t(71670),i=t(79022);const r={title:"Extensions",tags:["extension","wasm","plugin"],toc_max_heading_level:4},a=void 0,l={id:"guides/extensions",title:"Extensions",description:"An extension is a WASM plugin that allows you to extend moon with additional functionality, have",source:"@site/docs/guides/extensions.mdx",sourceDirName:"guides",slug:"/guides/extensions",permalink:"/docs/guides/extensions",draft:!1,unlisted:!1,editUrl:"https://github.com/moonrepo/moon/tree/master/website/docs/guides/extensions.mdx",tags:[{label:"extension",permalink:"/docs/tags/extension"},{label:"wasm",permalink:"/docs/tags/wasm"},{label:"plugin",permalink:"/docs/tags/plugin"}],version:"current",frontMatter:{title:"Extensions",tags:["extension","wasm","plugin"],toc_max_heading_level:4},sidebar:"guides",previous:{title:"Docker usage",permalink:"/docs/guides/docker"},next:{title:"Offline mode",permalink:"/docs/guides/offline-mode"}},d={},c=[{value:"Using extensions",id:"using-extensions",level:2},{value:"Built-in extensions",id:"built-in-extensions",level:2},{value:"<code>download</code>",id:"download",level:3},{value:"Arguments",id:"arguments",level:4},{value:"Creating an extension",id:"creating-an-extension",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{version:"1.20.0",header:!0}),"\n",(0,o.jsx)(n.p,{children:"An extension is a WASM plugin that allows you to extend moon with additional functionality, have\nwhitelisted access to the file system, and receive partial information about the current workspace.\nExtensions are extremely useful in offering new and unique functionality that doesn't need to be\nbuilt into moon's core. It also enables the community to build and share their own extensions!"}),"\n",(0,o.jsx)(n.h2,{id:"using-extensions",children:"Using extensions"}),"\n",(0,o.jsxs)(n.p,{children:["Before an extension can be executed with the ",(0,o.jsx)(n.a,{href:"../commands/ext",children:(0,o.jsx)(n.code,{children:"moon ext"})})," command, it must be\nconfigured with the ",(0,o.jsx)(n.a,{href:"../config/workspace#extensions",children:(0,o.jsx)(n.code,{children:"extensions"})})," setting in\n",(0,o.jsx)(n.a,{href:"../config/workspace",children:(0,o.jsx)(n.code,{children:".moon/workspace.yml"})})," (excluding ",(0,o.jsx)(n.a,{href:"#built-in-extensions",children:"built-in's"}),")."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml"',children:"extensions:\n  example:\n    plugin: 'source:https://example.com/path/to/example.wasm'\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Once configured, it can be executed with ",(0,o.jsx)(n.a,{href:"../commands/ext",children:(0,o.jsx)(n.code,{children:"moon ext"})})," by name. Arguments unique to\nthe extension ",(0,o.jsx)(n.em,{children:"must"})," be passed after a ",(0,o.jsx)(n.code,{children:"--"})," separator."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"$ moon ext example -- --arg1 --arg2\n"})}),"\n",(0,o.jsx)(n.h2,{id:"built-in-extensions",children:"Built-in extensions"}),"\n",(0,o.jsxs)(n.p,{children:["moon is shipped with a few built-in extensions that are configured and enabled by default. Official\nmoon extensions are built and published in our ",(0,o.jsx)(n.a,{href:"https://github.com/moonrepo/moon-extensions",children:"moonrepo/moon-extensions"})," repository."]}),"\n",(0,o.jsx)(n.h3,{id:"download",children:(0,o.jsx)(n.code,{children:"download"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"download"})," extension can be used to download a file from a URL into the current workspace, as\ndefined by the ",(0,o.jsx)(n.code,{children:"--url"})," argument. For example, say we want to download the latest ",(0,o.jsx)(n.a,{href:"/proto",children:"proto"}),"\nbinary:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"$ moon ext download --\\\n  --url https://github.com/moonrepo/proto/releases/latest/download/proto_cli-aarch64-apple-darwin.tar.xz\n"})}),"\n",(0,o.jsxs)(n.p,{children:["By default this will download ",(0,o.jsx)(n.code,{children:"proto_cli-aarch64-apple-darwin.tar.xz"})," into the current working\ndirectory. To customize the location, use the ",(0,o.jsx)(n.code,{children:"--dest"})," argument. However, do note that the\ndestination ",(0,o.jsx)(n.em,{children:"must be"})," within the current moon workspace, as only certain directories are whitelisted\nfor WASM."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"$ moon ext download --\\\n  --url https://github.com/moonrepo/proto/releases/latest/download/proto_cli-aarch64-apple-darwin.tar.xz\\\n  --dest ./temp\n"})}),"\n",(0,o.jsx)(n.h4,{id:"arguments",children:"Arguments"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--url"})," (required) - URL of a file to download."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--dest"})," - Destination folder to save the file. Defaults to the current working directory."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--name"})," - Override the file name. Defaults to the file name in the URL."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"creating-an-extension",children:"Creating an extension"}),"\n",(0,o.jsxs)(n.p,{children:["Coming soon! If you're eager to get started, take a look at our ",(0,o.jsx)(n.a,{href:"https://github.com/moonrepo/moon-extensions",children:"extensions repository"})," for\nexamples."]})]})}function x(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},79022:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(9619),s=t(24246);function i(e){let{header:n,inline:t,updated:i,version:r}=e;return(0,s.jsx)(o.Z,{text:`v${r}`,variant:i?"success":"info",className:n?"absolute right-0 top-1.5":t?"inline-block":"ml-2"})}},9619:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(40624),s=t(31792),i=t(24246);const r={failure:"bg-red-100 text-red-900",info:"bg-pink-100 text-pink-900",success:"bg-green-100 text-green-900",warning:"bg-orange-100 text-orange-900"};function a(e){let{className:n,icon:t,text:a,variant:l}=e;return(0,i.jsxs)("span",{className:(0,o.Z)("inline-flex items-center px-1 py-0.5 rounded text-xs font-bold uppercase",l?r[l]:"bg-gray-100 text-gray-800",n),children:[t&&(0,i.jsx)(s.Z,{icon:t,className:"mr-1"}),a]})}},71670:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>r});var o=t(27378);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);