"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[48667],{8029:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>d,toc:()=>h});var a=t(24246),r=t(71670),l=(t(33337),t(39798),t(27915)),o=t(9634),s=t(36642);const i={title:"Install moon"},c=void 0,d={id:"install",title:"Install moon",description:"The following guide can be used to install moon and integrate it into an existing repository (with",source:"@site/docs/install.mdx",sourceDirName:".",slug:"/install",permalink:"/docs/install",draft:!1,unlisted:!1,editUrl:"https://github.com/moonrepo/moon/tree/master/website/docs/install.mdx",tags:[],version:"current",frontMatter:{title:"Install moon"},sidebar:"docs",previous:{title:"Action graph",permalink:"/docs/how-it-works/action-graph"},next:{title:"Setup workspace",permalink:"/docs/setup-workspace"}},u={},h=[{value:"Installing",id:"installing",level:2},{value:"proto",id:"proto",level:3},{value:"Linux, macOS, WSL",id:"linux-macos-wsl",level:3},{value:"Windows",id:"windows",level:3},{value:"npm",id:"npm",level:3},{value:"Other",id:"other",level:3},{value:"Upgrading",id:"upgrading",level:2},{value:"Nightly releases",id:"nightly-releases",level:2},{value:"Next steps",id:"next-steps",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{text:"2 min"}),"\n",(0,a.jsx)(n.p,{children:"The following guide can be used to install moon and integrate it into an existing repository (with\nor without incremental adoption), or to a fresh repository."}),"\n",(0,a.jsx)(n.h2,{id:"installing",children:"Installing"}),"\n",(0,a.jsx)(n.p,{children:"The entirety of moon is packaged and shipped as a single binary. It works on all major operating\nsystems, and does not require any external dependencies. For convenience, we provide the following\nscripts to download and install moon."}),"\n",(0,a.jsx)(n.h3,{id:"proto",children:"proto"}),"\n",(0,a.jsxs)(n.p,{children:["moon can be installed and managed in ",(0,a.jsx)(n.a,{href:"/proto",children:"proto's toolchain"})," using a TOML plugin. This will\ninstall moon to ",(0,a.jsx)(n.code,{children:"~/.proto/tools/moon"})," and make the binary available at ",(0,a.jsx)(n.code,{children:"~/.proto/bin"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'proto tool add moon "source:https://raw.githubusercontent.com/moonrepo/moon/master/proto-plugin.toml"\nproto install moon\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Furthermore, the version of moon can be pinned on a per-project basis using the ",(0,a.jsx)(n.code,{children:".prototools"})," file."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-toml",metastring:'title=".prototools"',children:'moon = "1.3.0"\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"We suggest using proto to manage moon (and other tools), as it allows for multiple versions to be\ninstalled and used. The other installation options only allow for a single version (typically the\nlatest)."})}),"\n",(0,a.jsx)(n.h3,{id:"linux-macos-wsl",children:"Linux, macOS, WSL"}),"\n",(0,a.jsx)(n.p,{children:"In a terminal that supports Bash, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"curl -fsSL https://moonrepo.dev/install/moon.sh | bash\n"})}),"\n",(0,a.jsxs)(n.p,{children:["This will install moon to ",(0,a.jsx)(n.code,{children:"~/.moon/bin"}),". You'll then need to set ",(0,a.jsx)(n.code,{children:"PATH"})," manually in your shell\nprofile."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'export PATH="$HOME/.moon/bin:$PATH"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,a.jsx)(n.p,{children:"In Powershell or Windows Terminal, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"irm https://moonrepo.dev/install/moon.ps1 | iex\n"})}),"\n",(0,a.jsxs)(n.p,{children:["This will install moon to ",(0,a.jsx)(n.code,{children:"~\\.moon\\bin"})," and prepend to the ",(0,a.jsx)(n.code,{children:"PATH"})," environment variable for the\ncurrent session. To persist across sessions, update ",(0,a.jsx)(n.code,{children:"PATH"})," manually."]}),"\n",(0,a.jsx)(n.h3,{id:"npm",children:"npm"}),"\n",(0,a.jsxs)(n.p,{children:["moon is also packaged and shipped as a single binary through the\n",(0,a.jsx)(n.a,{href:"https://www.npmjs.com/package/@moonrepo/cli",children:(0,a.jsx)(n.code,{children:"@moonrepo/cli"})})," npm package. Begin by installing this\npackage at the root of the repository. This is also useful in ",(0,a.jsx)(n.em,{children:"pinning the exact version"})," the\nrepository should be using."]}),"\n",(0,a.jsx)(s.Z,{dep:"@moonrepo/cli",dev:!0}),"\n",(0,a.jsx)(n.h3,{id:"other",children:"Other"}),"\n",(0,a.jsxs)(n.p,{children:["moon can also be downloaded and installed manually, by downloading an asset from\n",(0,a.jsx)(n.a,{href:"https://github.com/moonrepo/moon/releases",children:"https://github.com/moonrepo/moon/releases"}),". Be sure to\nrename the file after downloading, and apply the executable bit (",(0,a.jsx)(n.code,{children:"chmod +x"}),") on macOS and Linux."]}),"\n",(0,a.jsx)(n.h2,{id:"upgrading",children:"Upgrading"}),"\n",(0,a.jsx)(n.p,{children:"If using proto, moon can be upgraded using the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"proto install moon --pin\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Otherwise, moon can be upgraded with the ",(0,a.jsx)(n.a,{href:"./commands/upgrade",children:(0,a.jsx)(n.code,{children:"moon upgrade"})})," command. However, this\nwill only upgrade moon if it was installed in ",(0,a.jsx)(n.code,{children:"~/.moon/bin"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"moon upgrade\n"})}),"\n",(0,a.jsx)(n.p,{children:"Otherwise, you can re-run the installers above and it will download, install, and overwrite with the\nlatest version."}),"\n",(0,a.jsx)(n.h2,{id:"nightly-releases",children:"Nightly releases"}),"\n",(0,a.jsx)(n.p,{children:"moon supports nightly releases, which are built and published once a day, and for each merged\nfeature to our develop branches. When using a nightly release, you'll need to download and execute\nthe binaries manually."}),"\n",(0,a.jsx)(n.p,{children:"Nightlies are published to the following channels:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["To our npm package\n",(0,a.jsx)(n.a,{href:"https://www.npmjs.com/package/@moonrepo/cli?activeTab=versions",children:(0,a.jsx)(n.code,{children:"@moonrepo/cli"})})," under the\n",(0,a.jsx)(n.code,{children:"nightly"})," tag. Releases are versioned by date."]}),"\n",(0,a.jsxs)(n.li,{children:["As a ",(0,a.jsx)(n.a,{href:"https://github.com/moonrepo/moon/releases/tag/nightly",children:"GitHub prerelease"})," using the\n",(0,a.jsx)(n.code,{children:"nightly"})," tag. This tag always represents the latest release, and is not historical."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,a.jsx)(o.Z,{links:[{icon:"workspace-config",label:"Setup workspace",url:"./setup-workspace"}]})]})}function m(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},39798:(e,n,t)=>{t.d(n,{Z:()=>o});t(27378);var a=t(37140);const r={tabItem:"tabItem_wHwb"};var l=t(24246);function o(e){let{children:n,hidden:t,className:o}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,a.Z)(r.tabItem,o),hidden:t,children:n})}},33337:(e,n,t)=>{t.d(n,{Z:()=>p});var a=t(27378),r=t(37140),l=t(83457),o=t(35595),s=t(76457);const i={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};var c=t(24246);function d(e){let{className:n,block:t,selectedValue:a,selectValue:o,tabValues:s}=e;const d=[],{blockElementScrollPositionUntilNextRender:u}=(0,l.o5)(),h=e=>{const n=e.currentTarget,t=d.indexOf(n),r=s[t].value;r!==a&&(u(n),o(r))},p=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;n=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;n=d[t]??d[d.length-1];break}}n?.focus()};return(0,c.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},n),children:s.map((e=>{let{value:n,label:t,attributes:l}=e;return(0,c.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>d.push(e),onKeyDown:p,onClick:h,...l,className:(0,r.Z)("tabs__item",i.tabItem,l?.className,{"tabs__item--active":a===n}),children:t??n},n)}))})}function u(e){let{lazy:n,children:t,selectedValue:r}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return(0,c.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function h(e){const n=(0,o.Y)(e);return(0,c.jsxs)("div",{className:(0,r.Z)("tabs-container",i.tabList),children:[(0,c.jsx)(d,{...e,...n}),(0,c.jsx)(u,{...e,...n})]})}function p(e){const n=(0,s.Z)();return(0,c.jsx)(h,{...e,children:(0,o.h)(e.children)},String(n))}},35595:(e,n,t)=>{t.d(n,{Y:()=>p,h:()=>c});var a=t(27378),r=t(3620),l=t(9834),o=t(30654),s=t(70784),i=t(71819);function c(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:n,children:t}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return c(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:r}}=e;return{value:n,label:t,attributes:a,default:r}}))}(t);return function(e){const n=(0,s.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function u(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function h(e){let{queryString:n=!1,groupId:t}=e;const l=(0,r.k6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o._X)(s),(0,a.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(l.location.search);n.set(s,e),l.replace({...l.location,search:n.toString()})}),[s,l])]}function p(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,o=d(e),[s,c]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:o}))),[p,m]=h({queryString:t,groupId:r}),[g,x]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,l]=(0,i.Nk)(t);return[r,(0,a.useCallback)((e=>{t&&l.set(e)}),[t,l])]}({groupId:r}),b=(()=>{const e=p??g;return u({value:e,tabValues:o})?e:null})();(0,l.Z)((()=>{b&&c(b)}),[b]);return{selectedValue:s,selectValue:(0,a.useCallback)((e=>{if(!u({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);c(e),m(e),x(e)}),[m,x,o]),tabValues:o}}},36642:(e,n,t)=>{t.d(n,{Z:()=>u});var a=t(52807),r=t(39798),l=t(33337),o=t(24246);function s(e,n,t){let a=e.package?`yarn workspace ${e.package} add `:"yarn add ";return e.dev?a+="--dev ":e.peer&&(a+="--peer "),t&&n&&!e.package&&(a+="-W "),a+=e.dep,a}function i(e){let n="npm install ";return e.dev?n+="--save-dev ":e.peer&&(n+="--save-peer "),e.package&&(n+=`--workspace ${e.package} `),n+=e.dep,n}function c(e,n){let t="pnpm add ";return e.dev?t+="--save-dev ":e.peer&&(t+="--save-peer "),e.package?t+=`--filter ${e.package} `:n&&(t+="-w "),t+=e.dep,t}function d(e){let n="bun install ";return e.dev?n+="--dev ":e.peer&&(n+="--peer "),n+=e.dep,n}function u(e){let n=s(e,!1,!0),t=c(e,!1);return e.package||(n+="\n\n# If using workspaces\n",t+="\n\n# If using workspaces\n",n+=s(e,!0,!0),t+=c(e,!0)),(0,o.jsxs)(l.Z,{groupId:"package-manager",defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"Yarn (classic)",value:"yarn1"},{label:"npm",value:"npm"},{label:"pnpm",value:"pnpm"},{label:"Bun",value:"bun"}],children:[(0,o.jsx)(r.Z,{value:"yarn",children:(0,o.jsx)(a.default,{language:"shell",children:s(e,!1,!1)})}),(0,o.jsx)(r.Z,{value:"yarn1",children:(0,o.jsx)(a.default,{language:"shell",children:n})}),(0,o.jsx)(r.Z,{value:"npm",children:(0,o.jsx)(a.default,{language:"shell",children:i(e)})}),(0,o.jsx)(r.Z,{value:"pnpm",children:(0,o.jsx)(a.default,{language:"shell",children:t})}),(0,o.jsx)(r.Z,{value:"bun",children:(0,o.jsx)(a.default,{language:"shell",children:d(e)})})]})}},27915:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(83469),r=t(9619),l=t(24246);function o(e){let{text:n}=e;return(0,l.jsx)(r.Z,{text:n,icon:a.SZw,variant:"success",className:"absolute right-0 top-1.5"})}},9634:(e,n,t)=>{t.d(n,{Z:()=>d});var a=t(81884),r=t(9928),l=t(83469),o=t(31792),s=t(24246);const i={discord:r.omb,github:r.zhw,moon:l.Gp0,"new-project":l.g6h,"new-task":l.EQ8,project:l.pL1,"project-config":l.dhu,"project-config-global":l.YdP,"project-graph":l.Bkj,"run-task":l.sl_,task:l.diR,"task-config":l.o$R,token:l.BwA,toolchain:l.AlB,"toolchain-config":l.eDR,twitter:r.mdU,workspace:l.emM,"workspace-config":l.cRF};function c(e){let{name:n,...t}=e;return(0,s.jsx)(o.Z,{...t,icon:i[n]})}function d(e){let{links:n}=e;return(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:n.map((e=>(0,s.jsx)(a.default,{href:e.url,className:"focus:outline-none",children:(0,s.jsxs)("div",{className:"relative rounded-lg px-3 py-3 flex items-center space-x-2 border-solid border border-t-0 border-b-2 bg-gray-50 hover:bg-gray-100/90 border-gray-200/75 dark:bg-slate-700 dark:hover:bg-slate-600 dark:border-slate-900/75",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(c,{size:"lg",name:e.icon})}),(0,s.jsx)("div",{className:"flex-1 min-w-0 text-gray-900 dark:text-gray-100",children:e.label})]})},e.url)))})}},9619:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(40624),r=t(31792),l=t(24246);const o={failure:"bg-red-100 text-red-900",info:"bg-pink-100 text-pink-900",success:"bg-green-100 text-green-900",warning:"bg-orange-100 text-orange-900"};function s(e){let{className:n,icon:t,text:s,variant:i}=e;return(0,l.jsxs)("span",{className:(0,a.Z)("inline-flex items-center px-1 py-0.5 rounded text-xs font-bold uppercase",i?o[i]:"bg-gray-100 text-gray-800",n),children:[t&&(0,l.jsx)(r.Z,{icon:t,className:"mr-1"}),s]})}},71670:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>o});var a=t(27378);const r={},l=a.createContext(r);function o(e){const n=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);